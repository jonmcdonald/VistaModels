<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.2.1385" />
    <meta name="TEMPLATEBASE" content="mgc_ww_v2.1.078" />
    <meta name="LASTUPDATED" content="Tue Nov 27 10:01:17 2012" />
    <meta name="mgc_html_doctitle" content="Vista User's Manual" />
    <title>Functional (PV) Modeling Style</title>
<!-- Search Engine keywords -->
    <meta name="attributes" content=" doc.type.documentation.user,doc.type.documentation.ref,product.version.v3.5,product.name.vista"/>
<!-- JavaScript Files -->
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/js/file_list.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/js/breadcrumbs.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/js/docvars.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/topics.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhelp/wwhimpl/common/scripts/popup_window.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
    <!--
      // Set reference to top level help frame
      //
      if (( window.name != "SearchTopic") && ( window.name != "PopupTopic"))
      {   var  WWHFrame = WWHGetWWHFrame(  ""); }
      else
      { var WWHFrame = eval("parent.parent"); }
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
    <!--
    var  WWHFrame = eval("parent.parent");
	document.write(MGCGetInternalStyleSheet(1));
	document.write(MGCGetDocumentStyleSheet(0));
	document.write(MGCGetPGFStyleSheet(0));
    // -->
    </script>
  </head>


<body class="body" rightmargin="25" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">





 <script type="text/javascript" language="JavaScript1.2">
    <!--
      MGCInsertRTHeader(130);
    // -->
 </script>
 

<!--96,129,130-->
<!--EnDhEaDeR-->

<a name="MGCCIDPFunctional (PV) Modeling Style"></a>

<a name="wp129908"></a><h4 class="pHeading3">
  


Functional (PV) Modeling Style
  </h4>


<!--FunctionalPVModelingStyle-->


<a name="wp129909"></a><p class="pBody">
The behavior of the model is essentially the way it reacts to transactions coming in through the designated slave ports. The transactions initiate callbacks either for the port or for registers that are registered to be triggered by the port. The callbacks implemented by you, can include for example, a C/C++ algorithm that defines data processing (such as DSP blocks), or an algorithm that defines control of data. 
</p>


<a name="wp129910"></a><p class="pBody">
The callbacks can in-turn initiate blocking read and write transactions through one or more designated master ports. A thread calling a master port function is blocked until a blocking transaction function call returns. The return of the transaction function call completes the transaction and the transaction data_ptr parameter is updated for a read or copied out for a write, unless an error is returned. Using blocking transaction calls at the PV layer allows more efficient and simplified coding, while offering higher simulation performance.
</p>


<a name="wp129946"></a><p class="pBody">
The PV model should be written using block granularity so that the functional model does not break data transfers into a sequence of smaller transactions as required by a specific implementation.
</p>


<a name="wp129947"></a><p class="pBody">
For all models, with the exception of test-benches or CPUs, it is preferable to use only callbacks and not to add threads. Models should avoid using timed wait statements. This approach greatly simplifies the modeling task, and results in higher simulation performance, as the number of threads and thread switches is minimized. 
</p>


<a name="wp129948"></a><p class="pBody">
However, you might need to use threads at least in the following situations: 
</p>


<a name="wp129949"></a>
<ul><li class="LL1BulSolid"><span style=" font-weight: bold;">A model that includes a timer:</span> A timer has to include a thread that includes a wait for time. This is the only case when a timed wait statement is needed in the functional code that is not a test-bench or a CPU. </li></ul>
<a name="wp129950"></a>
<ul><li class="LL1BulSolid"><span style=" font-weight: bold;">A model that includes a queue as basis functionality:</span> Using a queue inherently means that there should be threads waiting for queued elements. It is planned to allow attaching callbacks to constructs like FIFOs. </li></ul>
<a name="wp129951"></a><p class="pBody">
The code that is generated by the model builder is based on the class mb_module that is derived from sc_core::sc_module. The class mb_module redefines the wait methods that are declared in the sc_module class. You should use the mb_module methods because they can enable the scheduling described in <a href='javascript:oT("CRF","Chapter_Modeling_Phase36.html");'>Communication Channels</a>. You use them by just calling wait and not sc_core:: wait.
</p>




<script type="text/javascript" language="JavaScript1.2">
<!--
   PageTitle = "Functional (PV) Modeling Style";
   PDFLinkTitle = "Functional.PV.Modeling.Style"
   ThisTopic = "FunctionalPVModelingStyle";
   CurrentFile = "Chapter_Modeling_Phase35.html";
   MGCSetDocumentVariables();
   MGCUpdateNavPane();
      MGCInsertRTFooter();
 // -->
 </script>



  </body>
</html>
