<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <meta name="GENERATOR" content="Quadralay WebWorks AutoMap 2003 for FrameMaker 8.0.2.1385" />
    <meta name="TEMPLATEBASE" content="mgc_ww_v2.1.078" />
    <meta name="LASTUPDATED" content="Tue Nov 27 10:02:48 2012" />
    <meta name="mgc_html_doctitle" content="Vista User's Manual" />
    <title>CPU</title>
<!-- Search Engine keywords -->
    <meta name="attributes" content=" doc.type.documentation.user,doc.type.documentation.ref,product.version.v3.5,product.name.vista"/>
<!-- JavaScript Files -->
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/js/file_list.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/js/breadcrumbs.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/js/docvars.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/topics.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhelp/wwhimpl/common/scripts/popup_window.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
    <!--
      // Set reference to top level help frame
      //
      if (( window.name != "SearchTopic") && ( window.name != "PopupTopic"))
      {   var  WWHFrame = WWHGetWWHFrame(  ""); }
      else
      { var WWHFrame = eval("parent.parent"); }
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
    <!--
    var  WWHFrame = eval("parent.parent");
	document.write(MGCGetInternalStyleSheet(1));
	document.write(MGCGetDocumentStyleSheet(0));
	document.write(MGCGetPGFStyleSheet(0));
    // -->
    </script>
  </head>


<body class="body" rightmargin="25" onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">





 <script type="text/javascript" language="JavaScript1.2">
    <!--
      MGCInsertRTHeader(158);
    // -->
 </script>
 

<!--154,155,158-->
<!--EnDhEaDeR-->

<a name="MGCCIDPCPU"></a>

<a name="wp16982"></a><h4 class="pHeading3">
  


CPU
  </h4>


<!--CPU-->


<a name="wp16983"></a><p class="pBody">
The CPU model acts as a master on a bus, and includes a SW thread that is used for executing SW commands for driving the system.
</p>


<a name="wp16984"></a><p class="pBody">
The SW thread is composed of a sequence of transactions such as Read, Write, Single, or burst transactions. You may manipulate and randomize the transaction execution flow using SCV (SystemC Verification) and C/C++ facilities. 
</p>


<a name="wp16985"></a><p class="pBody">
Note that a CPU thread can also wait on events on slave ports (such as interrupt ports). If it does not do so it must include waits for time in order to let the timing layer work. These waits represent times spent by the cpu between accesses to the cpu_master port.
</p>


<a name="wp16986"></a><p class="pBody">
You can extract such a transaction sequence from an HDL simulation data. The<span style=" font-style: italic;"> </span><span style=" font-weight: bold; font-angle: normal;">generate_testbench</span> command allows you to extract the transactions driving the target component port from the HDL simulation. You can automatically extract the entire sequence of Transactions or selected scenarios defined in advance, on any port in the TLM Database. This allows you to abstract signal data that drives an HDL bus into a sequence of Transactions that can be driven from a CPU. 
</p>


<a name="wp16990"></a><p class="pBody">
See also the section on the Registers class, on <a href='javascript:oT("CRF","Chapter_Customizing_Gen_Models_new68.html");'>page&#160;8-336</a>.
</p>

<a name="MGCCIDPSW Thread Example "></a>

<a name="wp16994"></a><h5 class="pHeading4">
  


SW Thread Example 
</h5>



<a name="wp16995"></a><pre class="pCode">     cout &lt;&lt; &quot;----------------------------------------&quot; &lt;&lt; endl;</pre>


<a name="wp16996"></a><pre class="pCode">       cout &lt;&lt; name () &lt;&lt; &quot; @ &quot; &lt;&lt; sc_time_stamp () &lt;&lt; &quot; Program the DMA&quot; &lt;&lt; endl;</pre>


<a name="wp16997"></a><pre class="pCode">       cout &lt;&lt; &quot;----------------------------------------&quot; &lt;&lt; endl;</pre>


<a name="wp16998"></a><pre class="pCode">       cout &lt;&lt; name () &lt;&lt; &quot; @ &quot; &lt;&lt; sc_time_stamp () &lt;&lt; &quot; Writing DMA Source=0x&quot; &lt;&lt; hex &lt;&lt; 0x10 &lt;&lt; endl;</pre>


<a name="wp16999"></a><pre class="pCode">     <br />     cpu_master_write (0x0, 0x10);</pre>


<a name="wp17000"></a><pre class="pCode">       cout &lt;&lt; name () &lt;&lt; &quot; @ &quot; &lt;&lt; sc_time_stamp () &lt;&lt; &quot; Writing DMA Destination=0x&quot; &lt;&lt; hex &lt;&lt; 0x20 &lt;&lt; endl;</pre>


<a name="wp17001"></a><pre class="pCode">     <br />     cpu_master_write (0x1, 0x20);</pre>


<a name="wp17002"></a><pre class="pCode">       cout &lt;&lt; name () &lt;&lt; &quot; @ &quot; &lt;&lt; sc_time_stamp () &lt;&lt; &quot; Writing DMA Size=&quot; &lt;&lt; dec &lt;&lt; 16 &lt;&lt; endl;</pre>


<a name="wp17003"></a><pre class="pCode">     <br />     cpu_master_write (0x2, 16);</pre>


<a name="wp17004"></a><pre class="pCode">       cout &lt;&lt; name () &lt;&lt; &quot; @ &quot; &lt;&lt; sc_time_stamp () &lt;&lt; &quot; Writing DMA Trigger&quot; &lt;&lt; endl;</pre>


<a name="wp17005"></a><pre class="pCode">     <br />     cpu_master_write (0x3, 0.L);</pre>


<a name="wp17006"></a><pre class="pCode">     </pre>


<a name="wp17007"></a><pre class="pCode">       cout &lt;&lt; name () &lt;&lt; &quot; @ &quot; &lt;&lt; sc_time_stamp () &lt;&lt; &quot; Waiting for DMA Interrupt&quot; &lt;&lt; endl;</pre>


<a name="wp17008"></a><pre class="pCode">       wait (dma_transfer_done);</pre>


<a name="wp17009"></a><pre class="pCode">     </pre>


<a name="wp17010"></a><p class="pBody">
Default ports:
</p>


<a name="wp17011"></a>
<ul><li class="LL1BulSolid">One master port (bus master protocol), through which the cpu read and writes.</li></ul>
<a name="wp17012"></a>
<ul><li class="LL1BulSolid">At least one slave port (signal protocol), through which the CPU is interrupted</li></ul>




<script type="text/javascript" language="JavaScript1.2">
<!--
   PageTitle = "CPU";
   PDFLinkTitle = "CPU"
   ThisTopic = "SWThreadExample";
   CurrentFile = "Chapter_Customizing_Gen_Models_new05.html";
   MGCSetDocumentVariables();
   MGCUpdateNavPane();
      MGCInsertRTFooter();
 // -->
 </script>



  </body>
</html>
